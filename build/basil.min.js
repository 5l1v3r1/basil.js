!function(){var t=window.Basil=function(t){return(new window.Basil.Storage).init(t)};t.version="0.2.5",t.Storage=function(){var t="b45i1"+(Math.random()+1).toString(36).substring(7),e=["local","cookie","session","memory"],n=function(){var t=this.options||{};return(t.namespace||"b45i1")+":"},i=function(){for(var t=0;t<this.supportedStorages.length;t++)if(this.check(this.supportedStorages[t]))return this.supportedStorages[t];return null},r=function(t){return t?"[object Array]"===Object.prototype.toString.call(t)?t:[t]:null},s=function(t){var e="",i=n.call(this);if("string"==typeof t)e=i+t;else if(t instanceof Array)for(var r=0;r<t.length;r++)t[r]&&(e+=(e.length?":":i)+t[r]);return e},o=function(t){return JSON.stringify(t)},a=function(t){return JSON.parse(t)},h={local:{engine:window.localStorage,check:function(){try{this.engine.setItem(t,!0),this.engine.removeItem(t)}catch(e){return!1}return!0},set:function(t,e){t&&this.engine.setItem(t,e)},get:function(t){return this.engine.getItem(t)},remove:function(t){this.engine.removeItem(t)},reset:function(){for(var t,e=n.call(this),i=0;i<this.engine.length;i++)t=this.engine.key(i),0===t.indexOf(e)&&this.remove(t)}},session:{engine:window.sessionStorage,check:function(){try{this.engine.setItem(t,!0),this.engine.removeItem(t)}catch(e){return!1}return!0},set:function(t,e){t&&this.engine.setItem(t,e)},get:function(t){return this.engine.getItem(t)},remove:function(t){this.engine.removeItem(t)},reset:function(){for(var t,e=n.call(this),i=0;i<this.engine.length;i++)t=this.engine.key(i),0===t.indexOf(e)&&this.remove(t)}},memory:{_hash:{},check:function(){return!0},set:function(t,e){t&&(this._hash[t]=e)},get:function(t){return this._hash[t]||null},remove:function(t){delete this._hash[t]},reset:function(){var t=n.call(this);for(var e in this._hash)0===e.indexOf(t)&&this.remove(e)}},cookie:{check:function(){return navigator.cookieEnabled},set:function(t,e,n){if(t){n=n||{};var i=t+"="+e;if(n.days){var r=new Date;r.setTime(r.getTime()+24*n.days*60*60*1e3),i+="; expires="+r.toGMTString()}n.domain&&(i+="; domain="+n.domain),document.cookie=i+"; path=/"}},get:function(t){for(var e=document.cookie.split(";"),n=0;n<e.length;n++){var i=e[n].replace(/^\s*/,"");if(0===i.indexOf(t+"="))return i.substring(t.length+1,i.length)}return null},remove:function(t){if(t){this.set(t,"",{days:-1});for(var e=document.domain.split("."),n=e.length-1;n>0;n--)this.set(t,"",{days:-1,domain:"."+e.slice(-n).join(".")})}},reset:function(){for(var t=n.call(this),e=document.cookie.split(";"),i=0;i<e.length;i++){var r=e[i].replace(/^\s*/,""),s=r.substr(0,r.indexOf("="));0===s.indexOf(t)&&this.remove(s)}}}};return{init:function(t){return this.options=t||{},this.supportedStorages=this.options.storages||e,this.defaultStorage=this.check(this.options.storage)?this.options.storage:i.call(this),this},check:function(t){if(t=t||this.defaultStorage,h.hasOwnProperty(t))for(var e=0;e<this.supportedStorages.length;e++)if(t===this.supportedStorages[e])return h[t].check();return!1},set:function(t,e,n){if(t=s.call(this,t)){e=o.call(this,e),n=n||{};for(var i=r.call(this,n.storages)||[this.defaultStorage],a=0;a<i.length;a++)this.check(i[a])&&h[i[a]].set(t,e,n)}},get:function(t,e){if(!(t=s.call(this,t)))return null;e=e||{};for(var n=null,i=r.call(this,e.storages)||[this.defaultStorage],o=0;null===n&&o<i.length;o++)this.check(i[o])&&(n=a.call(this,h[i[o]].get(t)));return n},remove:function(t,e){if(!(t=s.call(this,t)))return null;e=e||{};for(var n=r.call(this,e.storages)||[this.defaultStorage],i=0;i<n.length;i++)this.check(n[i])&&h[n[i]].remove(t)},reset:function(t){t=t||{};for(var e=r.call(this,t.storages)||[this.defaultStorage],n=0;n<e.length;n++)this.check(e[n])&&h[e[n]].reset()},cookie:h.cookie,localStorage:h.local,sessionStorage:h.session}}}();