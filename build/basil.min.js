!function(){var t=function(e){return t.utils.extend(t.plugins,(new t.Storage).init(e))};t.version="0.4.0",t.utils={extend:function(){for(var t="object"==typeof arguments[0]?arguments[0]:{},e=1;e<arguments.length;e++)if(arguments[e]&&"object"==typeof arguments[e])for(var n in arguments[e])t[n]=arguments[e][n];return t},each:function(t,e,n){if(this.isArray(t)){for(var i=0;i<t.length;i++)if(e.call(n,t[i],i)===!1)return}else if(t)for(var s in t)if(e.call(n,t[s],s)===!1)return},tryEach:function(t,e,n,i){this.each(t,function(t,s){try{return e.call(i,t,s)}catch(r){this.isFunction(n)&&n.call(i,t,s,r)}},this)},registerPlugin:function(e){t.plugins=this.extend(e,t.plugins)}};for(var e=["Arguments","Boolean","Function","String","Array","Number","Date","RegExp"],n=0;n<e.length;n++)t.utils["is"+e[n]]=function(t){return function(e){return Object.prototype.toString.call(e)==="[object "+t+"]"}}(e[n]);t.plugins={},t.options=t.utils.extend({namespace:"b45i1",storages:["local","cookie","session","memory"],expireDays:365},window.Basil?window.Basil.options:{}),t.Storage=function(){var e="b45i1"+(Math.random()+1).toString(36).substring(7),n={},i=function(e){return t.utils.isArray(e)?e:t.utils.isString(e)?[e]:[]},s=function(e,n){var i="";return t.utils.isString(n)&&n.length&&(n=[n]),t.utils.isArray(n)&&n.length&&(i=n.join(":")),i&&e?e+":"+i:i},r=function(t,e){return t?e.replace(new RegExp("^"+t+":"),""):e},o=function(t){return JSON.stringify(t)},u=function(t){return JSON.parse(t)};return n.local={engine:window.localStorage,check:function(){try{this.engine.setItem(e,!0),this.engine.removeItem(e)}catch(t){return!1}return!0},set:function(t,e){t&&this.engine.setItem(t,e)},get:function(t){return this.engine.getItem(t)},remove:function(t){this.engine.removeItem(t)},reset:function(t){for(var e,n=0;n<this.engine.length;n++)e=this.engine.key(n),t&&0!==e.indexOf(t)||(this.remove(e),n--)},keys:function(t){for(var e,n=[],i=0;i<this.engine.length;i++)e=this.engine.key(i),t&&0!==e.indexOf(t)||n.push(r(t,e));return n}},n.session=t.utils.extend({},n.local,{engine:window.sessionStorage}),n.memory={_hash:{},check:function(){return!0},set:function(t,e){t&&(this._hash[t]=e)},get:function(t){return this._hash[t]||null},remove:function(t){delete this._hash[t]},reset:function(t){for(var e in this._hash)t&&0!==e.indexOf(t)||this.remove(e)},keys:function(t){var e=[];for(var n in this._hash)t&&0!==n.indexOf(t)||e.push(r(t,n));return e}},n.cookie={check:function(){return navigator.cookieEnabled},set:function(t,e,n){if(n=n||{},t){var i=t+"="+e;if(n.expireDays){var s=new Date;s.setTime(s.getTime()+24*n.expireDays*60*60*1e3),i+="; expires="+s.toGMTString()}n.domain&&(i+="; domain="+n.domain),document.cookie=i+"; path=/"}},get:function(t){for(var e,n=document.cookie.split(";"),i=0;i<n.length;i++)if(e=n[i].replace(/^\s*/,""),0===e.indexOf(t+"="))return e.substring(t.length+1,e.length);return null},remove:function(t){if(t){this.set(t,"",{expireDays:-1});for(var e=document.domain.split("."),n=e.length-1;n>0;n--)this.set(t,"",{expireDays:-1,domain:"."+e.slice(-n).join(".")})}},reset:function(t){for(var e,n,i=document.cookie.split(";"),s=0;s<i.length;s++)e=i[s].replace(/^\s*/,""),n=e.substr(0,e.indexOf("=")),t&&0!==n.indexOf(t)||this.remove(n)},keys:function(t){for(var e,n,i=[],s=document.cookie.split(";"),o=0;o<s.length;o++)e=s[o].replace(/^\s*/,""),n=e.substr(0,e.indexOf("=")),t&&0!==n.indexOf(t)||i.push(r(t,n));return i}},{init:function(t){return this.setOptions(t),this},setOptions:function(e){this.options=t.utils.extend({},this.options||t.options,e)},support:function(t){return n.hasOwnProperty(t)},check:function(t){return this.support(t)?n[t].check():!1},set:function(e,r,u){u=t.utils.extend({},this.options,u),(e=s(u.namespace,e))&&(r=o(r),t.utils.tryEach(i(u.storages),function(t){return n[t].set(e,r,u),!1},function(t){this.support(t)&&n[t].remove(e)},this))},get:function(e,r){if(r=t.utils.extend({},this.options,r),!(e=s(r.namespace,e)))return null;var o=null;return t.utils.tryEach(i(r.storages),function(t){return null!==o?!1:void(this.support(t)&&(o=u(n[t].get(e,r))))},function(t){o=n[t].get(e,r)||null},this),o},remove:function(e,r){return r=t.utils.extend({},this.options,r),(e=s(r.namespace,e))?void t.utils.each(i(r.storages),function(t){this.support(t)&&n[t].remove(e)},this):null},reset:function(e){e=t.utils.extend({},this.options,e),t.utils.each(i(e.storages),function(t){this.support(t)&&n[t].reset(e.namespace)},this)},keys:function(t){t=t||{};var e=[];for(var n in this.keysMap(t))e.push(n);return e},keysMap:function(e){e=t.utils.extend({},this.options,e);var s={};return t.utils.each(i(e.storages),function(i){return this.support(i)?void t.utils.each(n[i].keys(e.namespace),function(e){s[e]=t.utils.isArray(s[e])?s[e]:[],s[e].push(i)},this):!0},this),s},memory:n.memory,cookie:n.cookie,localStorage:n.local,sessionStorage:n.session}},window.Basil=t,"function"==typeof define&&define.amd?define(function(){return t}):"undefined"!=typeof module&&module.exports&&(module.exports=t)}();